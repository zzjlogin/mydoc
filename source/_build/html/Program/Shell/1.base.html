

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Shell编程基础 &mdash; 张志佳的技术文档 1.0 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="2. Shell编程高级用法" href="2.advance.html" />
    <link rel="prev" title="Shell 编程" href="../Shell.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> 张志佳的技术文档
          

          
            
            <img src="../../_static/logo-wordmark-light.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2018-09-03
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../Program.html">编程语言学习</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Algorithm.html">算法学习(Algorithm)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Algorithm/CCFexam.html">CCF考试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Algorithm/ccf/201703-1.html">2017031-分蛋糕</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Algorithm/ccf/201703-2.html">2017032-学生排队</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Algorithm/ccf/201712-4.html">2017124-行车路线</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Algorithm/ccf/201803-1.html">2018031-跳一跳</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Python.html">Python学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Python/01环境准备.html">1. 环境准备</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/01环境准备.html#python">1.1. 安装python</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/01环境准备.html#ipython">1.2. ipython的安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/01环境准备.html#id2">1.3. ipython测试</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/02内建函数.html">2. 内建函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/02内建函数.html#id2">2.1. 常用内置函数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/03内置常量.html">3. 内置常量</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Python/04内置类型.html">4. 内置类型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#id2">4.1. 真值测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#boolean">4.2. boolean操作符</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#id3">4.3. 比较操作符号</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#int-float-complex">4.4. 数据类型int,float,complex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#list-tuple-range">4.5. 数据类型 list, tuple, range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#binary-sequence-types-bytes-bytearray-memoryview">4.6. Binary Sequence Types — bytes, bytearray, memoryview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/04内置类型.html#set-types-set-frozenset">4.7. Set Types — set, frozenset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/05内置异常.html">5. 内置异常</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Python/06文本处理.html">6. 文本处理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#string">6.1. string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#re">6.2. re</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#difflib">6.3. difflib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#textwrap">6.4. textwrap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#unicodedata">6.5. unicodedata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#stringprep">6.6. stringprep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#readline">6.7. readline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/06文本处理.html#rlcompleter">6.8. rlcompleter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/07二进制处理.html">7. 二进制处理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/07二进制处理.html#struct">7.1. struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/07二进制处理.html#codecs">7.2. codecs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/08数据类型.html">8. 数据类型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#datetime">8.1. datetime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#calendar">8.2. calendar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#collectons">8.3. collectons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#collections-abc">8.4. collections.abc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#heapq">8.5. heapq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#bisect">8.6. bisect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#array">8.7. array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#weakref">8.8. weakref</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#types">8.9. types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#copy">8.10. copy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#pprint">8.11. pprint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#reprlib">8.12. reprlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#enum">8.13. enum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/08数据类型.html#flag">8.14. Flag</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/09数值模块.html">9. 数值模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#numbers">9.1. numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#math">9.2. math</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#cmath">9.3. cmath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#decimal">9.4. decimal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#fractions">9.5. fractions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#random">9.6. random</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/09数值模块.html#statistics">9.7. statistics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/10函数式编程模块.html">10. 函数式编程模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/10函数式编程模块.html#itertools">10.1. itertools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/10函数式编程模块.html#functools">10.2. functools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/10函数式编程模块.html#operator">10.3. operator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/11文件和目录访问.html">11. 文件和目录访问</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#pathlib">11.1. pathlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#os-path">11.2. os.path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#fileinput">11.3. fileinput</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#stat">11.4. stat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#filecmp">11.5. filecmp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#tempfile">11.6. tempfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#glob">11.7. glob</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#fnmatch">11.8. fnmatch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#linecache">11.9. linecache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#shutil">11.10. shutil</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/11文件和目录访问.html#macpath">11.11. macpath</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/12数据持久化.html">12. 数据持久化</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/12数据持久化.html#pickle">12.1. pickle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/12数据持久化.html#copyreg">12.2. copyreg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/12数据持久化.html#shelve">12.3. shelve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/12数据持久化.html#marshal">12.4. marshal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/12数据持久化.html#dbm">12.5. dbm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/12数据持久化.html#sqllite">12.6. sqllite</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/13数据压缩和归档.html">13. 数据压缩和归档</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/13数据压缩和归档.html#zlib">13.1. zlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/13数据压缩和归档.html#gzip">13.2. gzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/13数据压缩和归档.html#bz2">13.3. bz2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/13数据压缩和归档.html#lzma">13.4. lzma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/13数据压缩和归档.html#zipfile">13.5. zipfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/13数据压缩和归档.html#tarfile">13.6. tarfile</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/14文件格式.html">14. 文件格式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/14文件格式.html#csv">14.1. csv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/14文件格式.html#configparser">14.2. configparser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/14文件格式.html#netrc">14.3. netrc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/14文件格式.html#xdrlib">14.4. xdrlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/14文件格式.html#plistlib">14.5. plistlib</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/15加密服务.html">15. 加密服务</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/15加密服务.html#hashlib">15.1. hashlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/15加密服务.html#hmac">15.2. hmac</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/15加密服务.html#secrets">15.3. secrets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/16通用操作系统服务.html">16. 通用操作系统服务</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.1通用操作系统服务.html">16.1. os</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.2通用操作系统服务.html">16.2. io</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.3通用操作系统服务.html">16.3. time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.4通用操作系统服务.html">16.4. argparse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.5通用操作系统服务.html">16.5. getopt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.6通用操作系统服务.html">16.6. logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.7通用操作系统服务.html">16.7. logging.Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.8通用操作系统服务.html">16.8. logging.Handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/16通用操作系统/16.9通用操作系统服务.html">16.9. getpass</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/17并发执行.html">17. 并发执行</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#threading">17.1. threading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#multiprocessing">17.2. multiprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#multiprocessing-process">17.3. multiprocessing.Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#id2">17.4. multiprocessing.Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#multiprocessing-queue">17.5. multiprocessing.Queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#id3">17.6. multiprocessing.Queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#multiprocessing-joinablequeue">17.7. multiprocessing.JoinableQueue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Python/17并发执行.html#multiprocessing-connection-connection">17.8. multiprocessing.connection.Connection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Python/18进程通信和网络.html">18. 进程通信和网络</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Python/19网络数据处理.html">19. 网络数据处理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Python/20结构化文本文档处理工具.html">20. 结构化文本文档处理工具</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../Shell.html">Shell 编程</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1. Shell编程基础</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shell-about">1.1. Shell编程简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell-demo">1.2. 入门样例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell-stander">1.3. Shell规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell-cmd">1.4. Shell基础语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">1.5. Shell調試</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="2.advance.html">2. Shell编程高级用法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Network.html">计算机网络学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Network/1.NetworkTheory.html">理论学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Network/2.HuaWei.html">华为</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Network/3.H3C.html">H3C(华三/新华三)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Network/4.CISCO.html">思科(CISCO)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Server.html">服务器相关学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Server/1.AboutAndClass.html">服务器相关常识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Server/2.Linux.html">Linux 服务器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Server/Linux/1.cmd.html">Linux命令汇总</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/Ctrl+d.html">1. Ctrl+d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/alias.html">2. alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/basename.html">3. basename</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/bc.html">4. bc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/bg.html">5. bg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/cal.html">6. cal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/cat.html">7. cat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/cd.html">8. cd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/chage.html">9. chage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/chattr.html">10. chattr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/chgrp.html">11. chgrp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/chkconfig.html">12. chkconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/chmod.html">13. chmod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/chown.html">14. chown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/clear.html">15. clear</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/cp.html">16. cp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/crontab.html">17. crontab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/cut.html">18. cut</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/date.html">19. date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dd.html">20. dd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/df.html">21. df</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/diff.html">22. diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dig.html">23. dig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dirname.html">24. dirname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dmesg.html">25. dmesg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dos2unix.html">26. dos2unix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/du.html">27. du</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dump.html">28. dump</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/dumpe2fs.html">29. dumpe2fs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/e2fsck.html">30. e2fsck</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/echo.html">31. echo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/eject.html">32. eject</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/exec.html">33. exec</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/exit.html">34. exit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/export.html">35. export</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/fdisk.html">36. fdisk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/fg.html">37. fg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/file.html">38. file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/find.html">39. find</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/finger.html">40. finger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/free.html">41. free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/fsck.html">42. fsck</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/grep.html">43. grep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/groupadd.html">44. groupadd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/gzip.html">45. gzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/halt.html">46. halt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/head.html">47. head</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/history.html">48. history</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/host.html">49. host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/hostname.html">50. hostname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/iconv.html">51. iconv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/id.html">52. id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ifconfig.html">53. ifconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ifdown.html">54. ifdown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ifup.html">55. ifup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/init.html">56. init</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/iostat.html">57. iostat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ipcrm.html">58. ipcrm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ipcs.html">59. ipcs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/jobs.html">60. jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/join.html">61. join</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/kill.html">62. kill</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/killall.html">63. killall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/last.html">64. last</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/lastlog.html">65. lastlog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/less.html">66. less</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/locate.html">67. locate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/logout.html">68. logout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ls.html">69. ls</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/lsattr.html">70. lsattr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/lsof.html">71. lsof</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ltrace.html">72. ltrace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mail.html">73. mail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/md5sum.html">74. md5sum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mkdir.html">75. mkdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mkfs.html">76. mkfs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mkswap.html">77. mkswap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/more.html">78. more</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mount.html">79. mount</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mpstat.html">80. mpstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mutt.html">81. mutt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/mv.html">82. mv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/nc.html">83. nc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/netstat.html">84. netstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/nice.html">85. nice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/nmap.html">86. nmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/nohup.html">87. nohup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/nslookup.html">88. nslookup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/parted.html">89. parted</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/partprobe.html">90. partprobe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/passwd.html">91. passwd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/paste.html">92. paste</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/pgrep.html">93. pgrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ping.html">94. ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/pkill.html">95. pkill</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/poweroff.html">96. poweroff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/printf.html">97. printf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ps.html">98. ps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/pstree.html">99. pstree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/pwd.html">100. pwd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/rename.html">101. rename</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/resize2fs.html">102. resize2fs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/rev.html">103. rev</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/rm.html">104. rm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/rmdir.html">105. rmdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/route.html">106. route</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/rpm.html">107. rpm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/runlevel.html">108. runlevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/sar.html">109. sar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/scp.html">110. scp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/service.html">111. service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/shutdown.html">112. shutdown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/sort.html">113. sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/split.html">114. split</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ss.html">115. ss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/ssh.html">116. ssh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/stat.html">117. stat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/strace.html">118. strace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/su.html">119. su</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/sudo.html">120. sudo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/swapoff.html">121. swapoff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/swapon.html">122. swapon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/sync.html">123. sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/tac.html">124. tac</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/tail.html">125. tail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/tar.html">126. tar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/tcpdump.html">127. tcpdump</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/telnet.html">128. telnet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/time.html">129. time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/top.html">130. top</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/touch.html">131. touch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/tr.html">132. tr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/traceroute.html">133. traceroute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/tree.html">134. tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/type.html">135. type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/umask.html">136. umask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/umount.html">137. umount</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/unalias.html">138. unalias</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/uname.html">139. uname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/uniq.html">140. uniq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/unset.html">141. unset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/unzip.html">142. unzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/uptime.html">143. uptime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/useradd.html">144. useradd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/userdel.html">145. userdel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/usermod.html">146. usermod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/users.html">147. users</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/vi.html">148. vi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/vimdiff.html">149. vimdiff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/visudo.html">150. visudo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/vmstat.html">151. vmstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/w.html">152. w</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/watch.html">153. watch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/wc.html">154. wc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/wget.html">155. wget</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/whereis.html">156. whereis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/which.html">157. which</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/who.html">158. who</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/whoami.html">159. whoami</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/xargs.html">160. xargs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/yum.html">161. yum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Server/Linux/cmd/zip.html">162. xxxx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Server/Linux/2.base.html">Linux基础</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Server/Linux/3.service.html">Linux服务器</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Server/3.Unix.html">Unix 和类Unix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Server/4.Windows.html">Windows 服务器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Server/5.Optimization.html">服务器优化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Server/6.FAQ.html">常见问题及解决(FAQ)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Data.html">数据相关/大数据</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Data/1.html">我的文档库123</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../MachineLearning.html">机器学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../MachineLearning/base.html">机器学习入门</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ToolsOpenSource.html">工具和开源项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ToolsOpenSource/1.Tools.html">常用工具汇总</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ToolsOpenSource/Tools/1.rST.html">用reStructuredText实践</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/1.index.html">1. rST简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/2.install.html">2. reST安装及环境配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/3.grammar.html">3. reST语法学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/4.toOthers.html">4. 格式转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/5.API.html">5. 文档API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/6.rstTools.html">6. reST工具</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ToolsOpenSource/Tools/rST/7.addFunctions.html">7. 其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ToolsOpenSource/Tools/2.MarkDownTools.html">MarkDown工具</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ToolsOpenSource/2.OpenSource.html">关注的开源项目</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Others.html">其他杂项</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Others/1.html">我的文档库123</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../log.html">博客更新日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AboutMe.html">关于我</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">张志佳的技术文档</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../Program.html">编程语言学习</a> &raquo;</li>
        
          <li><a href="../Shell.html">Shell 编程</a> &raquo;</li>
        
      <li>1. Shell编程基础</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="2.advance.html" class="btn btn-neutral float-right" title="2. Shell编程高级用法" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Shell.html" class="btn btn-neutral" title="Shell 编程" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shell">
<span id="shell-base"></span><h1><a class="toc-backref" href="#id23">1. Shell编程基础</a><a class="headerlink" href="#shell" title="永久链接至标题">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2018-08-30</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="id1">
<p class="topic-title first">目录</p>
<ul class="simple">
<li><a class="reference internal" href="#shell" id="id23">Shell编程基础</a><ul>
<li><a class="reference internal" href="#shell-about" id="id24">Shell编程简介</a></li>
<li><a class="reference internal" href="#shell-demo" id="id25">入门样例</a></li>
<li><a class="reference internal" href="#shell-stander" id="id26">Shell规范</a><ul>
<li><a class="reference internal" href="#id5" id="id27">Shell规范的作用</a></li>
<li><a class="reference internal" href="#id6" id="id28">Shell规范样例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#shell-cmd" id="id29">Shell基础语句</a><ul>
<li><a class="reference internal" href="#cmd-redirect" id="id30">重定向</a></li>
<li><a class="reference internal" href="#cmd-pipeline" id="id31">管道(|)</a></li>
<li><a class="reference internal" href="#cmd-var" id="id32">变量</a><ul>
<li><a class="reference internal" href="#general-var" id="id33">自定义变量</a></li>
<li><a class="reference internal" href="#path-var" id="id34">环境变量</a></li>
<li><a class="reference internal" href="#site-var" id="id35">位置变量</a></li>
<li><a class="reference internal" href="#sys-path-change" id="id36">系统环境变量修改</a></li>
</ul>
</li>
<li><a class="reference internal" href="#if" id="id37">分支(if)</a></li>
<li><a class="reference internal" href="#cmd-compare" id="id38">參考比较方法</a></li>
<li><a class="reference internal" href="#id16" id="id39">循环</a><ul>
<li><a class="reference internal" href="#for" id="id40">for</a></li>
<li><a class="reference internal" href="#while" id="id41">while</a></li>
<li><a class="reference internal" href="#until" id="id42">until</a></li>
<li><a class="reference internal" href="#case" id="id43">case</a></li>
<li><a class="reference internal" href="#select" id="id44">select</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id17" id="id45">函数</a><ul>
<li><a class="reference internal" href="#id18" id="id46">函数样例</a></li>
<li><a class="reference internal" href="#id19" id="id47">接收函数返回结果</a></li>
<li><a class="reference internal" href="#id20" id="id48">接收函数返回的状态码</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id21" id="id49">Shell調試</a><ul>
<li><a class="reference internal" href="#read" id="id50">读取输入使用read</a></li>
<li><a class="reference internal" href="#id22" id="id51">获取随机值</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="shell-about">
<span id="id2"></span><h2><a class="toc-backref" href="#id24">1.1. Shell编程简介</a><a class="headerlink" href="#shell-about" title="永久链接至标题">¶</a></h2>
<ul>
<li><p class="first">参考：</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://tiswww.case.edu/php/chet/bash/bashref.html">Bash编程帮助1(英语文档)</a></li>
<li><a class="reference external" href="https://www.computerhope.com/unix/ubash.htm">Bash编程帮助2(英语文档)</a></li>
<li><a class="reference external" href="https://linux.die.net/man/1/bash">Bash编程帮助3(英语文档)</a></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>shell编程是用shell提供的命令。
然后用合适的逻辑控制结构然后构成程序结构来执行这些linux/Unix命令。所以shell编程本质是linux命令的使用。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">但是shell编程并不是简单的把linux命令罗列在一个文件中执行这个文件。(虽然我们有时候经常这样做)</p>
</div>
<p>shell编程可以使得命令执行的逻辑更加清晰。而且通过shell程序中的逻辑控制异常处理。
可以有效的控制哪些命令执行，并且获取执行的结果及状态。
此外shell编程使得一些我们常用的功能可以通过把这个功能编写成函数，
从而得到了功能的复用。<strong>总之就是：shell编程和linux命令的罗列既有相同又有不同</strong></p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">本部分用的是bash。具体的shell有很多种。现在linux的流行使得bash基本是最广泛使用的shell了。</p>
</div>
</div>
<div class="section" id="shell-demo">
<span id="id3"></span><h2><a class="toc-backref" href="#id25">1.2. 入门样例</a><a class="headerlink" href="#shell-demo" title="永久链接至标题">¶</a></h2>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># echo &#39;#!/bin/bash&#39;&gt; helloworld.sh</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># echo &#39;echo &quot;Hello Word!&quot;&#39;&gt;&gt; helloworld.sh</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># cat helloworld.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">&quot;Hello Word!&quot;</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># chmod +x helloworld.sh</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ./helloworld.sh</span>
Hello Word!
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">本部分用的环境是CentOS6.6系统。默认bash。</p>
</div>
</div>
<div class="section" id="shell-stander">
<span id="id4"></span><h2><a class="toc-backref" href="#id26">1.3. Shell规范</a><a class="headerlink" href="#shell-stander" title="永久链接至标题">¶</a></h2>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id27">1.3.1. Shell规范的作用</a><a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<blockquote>
<div>其实在我们日常使用中。总是或多或少的遵守一些自己的规范。
这个规范也可以说是我们的习惯。
但是在真正的shell编程开发中我们是用我们自己的规范(习惯)其他人
很难理解。所以我们一般要遵守一些公认的或者内部协商好的规范。</div></blockquote>
<p class="rubric">Shell规范包括：</p>
<ol class="arabic simple">
<li>文件头规范；</li>
<li>文件名规范；</li>
<li>内部函数规范；</li>
<li>变量名规范，等等。</li>
</ol>
</div>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id28">1.3.2. Shell规范样例</a><a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<p>个人觉得我们参考规范。应该参考一些现在实际应用的规范脚本。
然后参考这些规范的脚本学习他们然后总结模仿。(最后能不能超越就看个人能力了。)</p>
<p><a class="reference download internal" href="../../_downloads/crond.sh" download=""><code class="xref download docutils literal notranslate"><span class="pre">规范样例crond</span></code></a> :</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">CentOS系统一般系统服务脚本都放在/etc/init.d/这个目录下。</p>
</div>
</div>
</div>
<div class="section" id="shell-cmd">
<span id="id7"></span><h2><a class="toc-backref" href="#id29">1.4. Shell基础语句</a><a class="headerlink" href="#shell-cmd" title="永久链接至标题">¶</a></h2>
<div class="section" id="cmd-redirect">
<span id="id8"></span><h3><a class="toc-backref" href="#id30">1.4.1. 重定向</a><a class="headerlink" href="#cmd-redirect" title="永久链接至标题">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">重定向包括：&gt;、&gt;&gt;、&lt;、&lt;&lt;。
- &gt;：会覆盖原来文件的第一行。
- &gt;&gt;：是追加到文件末尾。
- &lt;和&lt;&lt;和上面两个相同。</p>
</div>
<ul>
<li><p class="first">作用</p>
<blockquote>
<div><p>重定向可以把输出/输入的去向/来源进行改变。从而更好的控制程序执行。</p>
</div></blockquote>
</li>
</ul>
<div class="admonition hint">
<p class="first admonition-title">提示</p>
<p class="last">如果一个命令可以输出很多内容。而这些内容又都没有用不需要保存。
这时候就需要重定向输出。把这个输出内容重定向到空。这样就不会因为占用空间而出现问题。</p>
</div>
<ul class="simple">
<li>三个标准流</li>
</ul>
<dl class="docutils">
<dt>stdin</dt>
<dd>标准输入流,文件描述符是0</dd>
<dt>stdout</dt>
<dd>标准输出流,文件描述符是1</dd>
<dt>stderr</dt>
<dd>标准错误流,文件描述符是2</dd>
</dl>
<p><strong>真正使用的时候一般是</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li>重定向stdout到一个文件</li>
<li>重定向stderr到一个文件</li>
<li>重定向stdout到stderr</li>
<li>重定向stderr到stdout</li>
<li>重定向stderr和stdout到一个文件</li>
<li>重定向stdout和stdout到stdout</li>
<li>重定向stdoutheelsstderr到stderr</li>
</ol>
</div></blockquote>
<ul class="simple">
<li>重定向样例：</li>
</ul>
<ol class="arabic simple">
<li>重定向输出</li>
</ol>
<p>重定向输出到文件</p>
<blockquote>
<div><div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ls -l &gt; ls-redirect.txt</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># cat ls-redirect.txt</span>
total <span class="m">72</span>
-rw-------.  <span class="m">1</span> root root  <span class="m">1040</span> Mar <span class="m">30</span> <span class="m">17</span>:41 anaconda-ks.cfg
drwxr-xr-x. <span class="m">13</span> root root  <span class="m">4096</span> Aug  <span class="m">3</span> <span class="m">21</span>:52 ceshi
-rwxr-xr-x.  <span class="m">1</span> root root    <span class="m">31</span> Aug  <span class="m">5</span> <span class="m">21</span>:04 helloworld.sh
-rw-r--r--.  <span class="m">1</span> root root <span class="m">21684</span> Aug  <span class="m">3</span> <span class="m">22</span>:03 install.log
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">5890</span> Mar <span class="m">30</span> <span class="m">17</span>:39 install.log.syslog
-rw-r--r--.  <span class="m">1</span> root root     <span class="m">0</span> Aug  <span class="m">5</span> <span class="m">22</span>:07 ls-redirect.txt
-rw-r--r--.  <span class="m">1</span> root root   <span class="m">143</span> Aug  <span class="m">3</span> <span class="m">19</span>:27 pf
-rw-r--r--.  <span class="m">1</span> root root   <span class="m">239</span> Aug  <span class="m">3</span> <span class="m">22</span>:11 snapshot
-rw-r--r--.  <span class="m">1</span> root root <span class="m">15231</span> Jul <span class="m">20</span> <span class="m">06</span>:56 tar.txt
drwxr-xr-x.  <span class="m">3</span> root root  <span class="m">4096</span> Aug  <span class="m">3</span> <span class="m">22</span>:45 <span class="nb">test</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<p>重定向输出到空</p>
<blockquote>
<div><div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ifconfig 1&gt;/dev/null 2&gt;&amp;1</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ifconfig &amp;&gt;/dev/null</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p class="first">重定向输入</p>
<blockquote>
<div><div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># wc -l &lt; /etc/init.d/network</span>
<span class="m">245</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</li>
</ol>
<hr class="docutils" />
</div>
<div class="section" id="cmd-pipeline">
<span id="id9"></span><h3><a class="toc-backref" href="#id31">1.4.2. 管道(|)</a><a class="headerlink" href="#cmd-pipeline" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">作用</p>
<blockquote>
<div><p>一个命令的输出需要交给下一个命令的输入的时候就需要管道来交接数据。</p>
</div></blockquote>
</li>
<li><p class="first">样例</p>
</li>
</ul>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ls -l | wc -l</span>
<span class="m">7</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="cmd-var">
<span id="id10"></span><h3><a class="toc-backref" href="#id32">1.4.3. 变量</a><a class="headerlink" href="#cmd-var" title="永久链接至标题">¶</a></h3>
<p class="rubric">变量分为：</p>
<ul class="simple">
<li>自定义变量</li>
<li>环境变量</li>
<li>位置变量</li>
</ul>
<div class="section" id="general-var">
<span id="id11"></span><h4><a class="toc-backref" href="#id33">1.4.3.1. 自定义变量</a><a class="headerlink" href="#general-var" title="永久链接至标题">¶</a></h4>
<ul>
<li><p class="first">作用</p>
<blockquote>
<div><p>自定义变量就是和我们普通编程语言类似的变量。
主要是用变量来代替一些脚本重复使用和方便修改的字符串。
这些字符串一般都有一些特点。或者这个脚本经常使用
或者这个字符串是我们常规使用经常用到的变量字符串。
或者这个字符串很长而且在后面修改脚本时方便修改。</p>
</div></blockquote>
</li>
<li><p class="first">样例</p>
</li>
</ul>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># cat hello.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nv">STR</span><span class="o">=</span><span class="s2">&quot;hello zzjlogin!&quot;</span>
<span class="nb">echo</span> <span class="nv">$STR</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># chmod +x hello.sh</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ./hello.sh</span>
hello zzjlogin!
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="path-var">
<span id="id12"></span><h4><a class="toc-backref" href="#id34">1.4.3.2. 环境变量</a><a class="headerlink" href="#path-var" title="永久链接至标题">¶</a></h4>
<ul>
<li><p class="first">作用</p>
<blockquote>
<div><p>和windows系统的环境变量类似。默认PATH变量就是当前用户的环境变量。
这个内容一般是一些路径字符串。这些路径保存了命令的二进制文件或者脚本文件。
只有命令所在路径加入了环境变量。才能在任何路径下执行命令时不用输入路径名称。</p>
</div></blockquote>
</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">这个PATH路径从前向后依次匹配。所以如果有冲突的命令(即两个命令名字一样路径不同且命令文件所在路径都加入了PATH)。
这时只输入命令名执行的是从前向后匹配PATH时的第一个匹配到路径的命令。
系统可以通过`echo $PATH`和`echo $LANG`查看系统当前环境变量和语言字符集。</p>
</div>
<hr class="docutils" />
<ul class="simple">
<li>样例</li>
</ul>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># PATH=&#39;/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin/:/root/&#39;</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin/:/root/
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># cd /home/</span>
<span class="o">[</span>root@centos6-zzjlogin home<span class="o">]</span><span class="c1"># hello.sh</span>
hello zzjlogin!
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<ul class="last simple">
<li>修改CentOS系统环境变量的方法如果只修改PATH的变量值只是临时生效。重启会失效</li>
<li>修改字符集(默认语言)修改LANG也是只是临时生效。重启失效。</li>
<li>可以参考： <a class="reference internal" href="#sys-path-change"><span class="std std-ref">系统环境变量修改</span></a></li>
</ul>
</div>
</div>
<div class="section" id="site-var">
<span id="id13"></span><h4><a class="toc-backref" href="#id35">1.4.3.3. 位置变量</a><a class="headerlink" href="#site-var" title="永久链接至标题">¶</a></h4>
<ul>
<li><p class="first">作用</p>
<blockquote>
<div><p>位置变量就是在输入/输出/一些传输操作时的占位符。定位到哪个字符/哪个位置。</p>
</div></blockquote>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$0: 命令本身
$1: 对应的第1个参数
$n：对应的第n个参数
$*: 传递给脚本的所有参数，$*都看作一个整体
$@：传递给脚本的所有参数，但是每个参数区别对待
$#: 传递给脚本的参数个数
$!: 后台运行最后一个进程号
$?: 判断上一个命令，为0则为正确执行，非0则为错误(具体数，由命令决定)
$$: 当前进程号
</pre></div>
</div>
<hr class="docutils" />
<ul class="simple">
<li>样例</li>
</ul>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># cat hello.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nv">STR</span><span class="o">=</span><span class="s2">&quot;hello zzjlogin!&quot;</span>
<span class="nb">echo</span> <span class="nv">$0</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$0</span><span class="s2"> print&quot;</span>
<span class="nb">echo</span> <span class="nv">$1</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> print&quot;</span>
<span class="nb">echo</span> <span class="nv">$!</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$!</span><span class="s2"> print&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;ending&quot;</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># ./hello.sh test</span>
./hello.sh
./hello.sh print
<span class="nb">test</span>
<span class="nb">test</span> print

 print
ending
</pre></div>
</td></tr></table></div>
<hr class="docutils" />
</div>
<div class="section" id="sys-path-change">
<span id="id14"></span><h4><a class="toc-backref" href="#id36">1.4.3.4. 系统环境变量修改</a><a class="headerlink" href="#sys-path-change" title="永久链接至标题">¶</a></h4>
<ol class="arabic simple">
<li><strong>修改系统字符集(默认语言)</strong></li>
</ol>
<p>系统字符集定义的文件：<cite>/etc/sysconfig/i18n</cite>。</p>
<div class="admonition important">
<p class="first admonition-title">重要</p>
<p class="last">修改之前先做好源文件备份。这样方便出故障时恢复。</p>
</div>
<p><strong>修改过程：</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li>备份源文件</li>
</ol>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>cat /etc/sysconfig/i18n
cp /etc/sysconfig/i18n /etc/sysconfig/i18n.backup
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="2">
<li>修改字符集定义文件</li>
</ol>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s1">&#39;LANG=&quot;zh_CN.UTF-8&quot;&#39;</span> &gt;/etc/sysconfig/i18n
cat /etc/sysconfig/i18n
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="3">
<li>使定义文件立即生效</li>
</ol>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">source</span> /etc/sysconfig/i18n
</pre></div>
</td></tr></table></div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><strong>修改系统环境变量</strong></li>
</ol>
<p>下面是五个默认配置文件：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">三个对所有用户都有效</span>
    <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">profile</span>
    <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">profile</span><span class="o">.</span><span class="n">d</span><span class="o">/*.</span><span class="n">sh</span> <span class="p">(</span><span class="n">所有以</span><span class="o">.</span><span class="n">sh结尾</span><span class="p">)</span>
    <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">bashrc</span>
<span class="n">两个对特定的用户有效</span><span class="p">(</span><span class="n">用户家目录下文件</span><span class="p">)</span>
    <span class="o">~/.</span><span class="n">bash_profile</span>
    <span class="o">~/.</span><span class="n">bashrc</span>
<span class="n">注销时生效的环境变量配置文件</span>
    <span class="o">~/.</span><span class="n">bash_logout</span>
    <span class="o">~/.</span><span class="n">bash_history</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">虽然这么多文件都能控制系统的环境变量。
但是我们一般修改/etc/profile文件和/etc/bashrc(/etc/bashrc是添加命令别名的)
添加命令别名方法类似下面的方法。只是在/etc/bashrc追加对应的别名命令即可。例如：
echo “alias zzjlogin=’ls -l’”&gt;&gt; /etc/bashrc</p>
</div>
<p><strong>修改过程：</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li>备份源文件</li>
</ol>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># cp /etc/profile /etc/profile.`date +%Y%m%d`</span>
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="2">
<li>修改字符集定义文件</li>
</ol>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># echo &quot;PATH=$PATH:/home/&quot;&gt;&gt; /etc/profile</span>
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin/:/root/:/home/
<span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># tail -10 /etc/profile</span>
            . <span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span>
        <span class="k">else</span>
            . <span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span> &gt;/dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
        <span class="k">fi</span>
    <span class="k">fi</span>
<span class="k">done</span>

<span class="nb">unset</span> i
<span class="nb">unset</span> -f pathmunge
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/home/
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="3">
<li>使定义文件立即生效</li>
</ol>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">source</span> /etc/profile
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
</div>
<div class="section" id="if">
<span id="select-if"></span><h3><a class="toc-backref" href="#id37">1.4.4. 分支(if)</a><a class="headerlink" href="#if" title="永久链接至标题">¶</a></h3>
<p class="rubric">分支语句语法：</p>
<p>參考比較時使用比較方法: <a class="reference internal" href="#cmd-compare"><span class="std std-ref">參考比较方法</span></a></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span>[root@centos6-zzjlogin ~]# help if
if: if COMMANDS; then COMMANDS; [ elif COMMANDS; then COMMANDS; ]... [ else COMMANDS; ] fi
    Execute commands based on conditional.
    
    The `if COMMANDS&#39; list is executed.  If its exit status is zero, then the
    `then COMMANDS&#39; list is executed.  Otherwise, each `elif COMMANDS&#39; list is
    executed in turn, and if its exit status is zero, the corresponding
    `then COMMANDS&#39; list is executed and the if command completes.  Otherwise,
    the `else COMMANDS&#39; list is executed, if present.  The exit status of the
    entire construct is the exit status of the last command executed, or zero
    if no condition tested true.
    
    Exit Status:
    Returns the status of the last command executed.

    也就是if的命令格式是：
        if COMMANDS; then COMMANDS; [ elif COMMANDS; then COMMANDS; ]... [ else COMMANDS; ] fi
    if的执行基于返回条件。
        if COMMANDS的COMMANDS返回状态是0则执行then COMMANDS。
        否则执行elif COMMANDS，这个COMMANDS如果是0就执行这个后面对应的then COMMANDS。
        否则执行else COMMANDS。
        最后fi结尾。上面的elif/else判断执行部分可以省略。但是这最后的fi不能省略。
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>作用</li>
</ul>
<p>控制Shell脚本执行的过程。并通过条件来控制哪些命令在哪些情况执行。
这样可以使shell脚本的逻辑更清楚。</p>
<ul class="simple">
<li>样例</li>
</ul>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span>没有else和elif的判断：
<span class="c1">#!/bin/bash</span>
<span class="nv">score</span><span class="o">=</span><span class="m">65</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2">&quot;</span> -gt <span class="m">60</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &gt;60&quot;</span>
<span class="k">fi</span>

有else的if语句：
<span class="c1">#!/bin/bash</span>
<span class="nv">score</span><span class="o">=</span><span class="m">65</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2">&quot;</span> -gt <span class="m">60</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &gt;60&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &lt;=60&quot;</span>
<span class="k">fi</span>

完整语句：
<span class="c1">#!/bin/bash</span>
<span class="nv">score</span><span class="o">=</span><span class="m">41</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2">&quot;</span> -gt <span class="m">60</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &gt;60&quot;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2">&quot;</span> -gt <span class="m">40</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &lt;=60 , </span><span class="nv">$score</span><span class="s2"> &gt;40&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &lt;=40&quot;</span>
<span class="k">fi</span>


<span class="c1">#!/bin/bash</span>
<span class="nv">score</span><span class="o">=</span><span class="m">41</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2">&quot;</span> -gt <span class="m">60</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &gt;60&quot;</span>
<span class="k">else</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2">&quot;</span> -gt <span class="m">40</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &lt;=60 , </span><span class="nv">$score</span><span class="s2"> &gt;40&quot;</span>
    <span class="k">else</span>
        <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$score</span><span class="s2"> &lt;=40&quot;</span>
    <span class="k">fi</span>
<span class="k">fi</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="cmd-compare">
<span id="id15"></span><h3><a class="toc-backref" href="#id38">1.4.5. 參考比较方法</a><a class="headerlink" href="#cmd-compare" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span> -f <span class="s2">&quot;somefile&quot;</span> <span class="o">]</span>       判断是否是一个文件
<span class="o">[</span> -x <span class="s2">&quot;/bin/ls&quot;</span> <span class="o">]</span>        判断/bin/ls是否存在并有可执行权限
<span class="o">[</span> -n <span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span> <span class="o">]</span>           判断<span class="nv">$var变量是否有值</span>
<span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>         判断<span class="nv">$a和$b是否相等</span>
-r file                 用户可读为真
-w file                 用户可写为真
-x file                 用户可执行为真
-f file                 文件为正规文件为真
-d file                 文件为目录为真
-c file                 文件为字符特殊文件为真
-b file                 文件为块特殊文件为真
-s file                 文件大小非0时为真
-t file                 当文件描述符<span class="o">(</span>默认为1<span class="o">)</span>指定的设备为终端时为真

-ne     比较两个参数是否不相等
-lt     参数1是否小于参数2
-le     参数1是否小于等于参数2
-gt     参数1是否大于参数2
-ge     参数1是否大于等于参数2
-f      检查某文件是否存在（例如，if <span class="o">[</span> -f <span class="s2">&quot;filename&quot;</span> <span class="o">]</span>）
-d      检查目录是否存在

补充：文件测试操作：
返回true，如果：
-e file                     文件存在
-a file                     文件存在（已被弃用）
-f file                     被测文件是一个regular文件（正常文件，非目录或设备）
-s file                     文件长度不为0
-d dir                      被测对象是目录
-b file                     被测对象是块设备
-c file                     被测对象是字符设备
-p file                     被测对象是管道
-h file                     被测文件是符号连接
-L file                     被测文件是符号连接
-S<span class="o">(</span>大写<span class="o">)</span> file               被测文件是一个socket
-t                          关联到一个终端设备的文件描述符。用来检测脚本的stdin<span class="o">[</span>-t0<span class="o">]</span>或<span class="o">[</span>-t1<span class="o">]</span>是一个终端
-r                          文件具有读权限，针对运行脚本的用户
-w                          文件具有写权限，针对运行脚本的用户
-x                          文件具有执行权限，针对运行脚本的用户
-u                          set-user-id<span class="o">(</span>suid<span class="o">)</span>标志到文件，即普通用户可以使用的root权限文件，通过chmod +s file实现
-k                          设置粘贴位
-O                          运行脚本的用户是文件的所有者
-G                          文件的group-id和运行脚本的用户相同
-N                          从文件最后被阅读到现在，是否被修改
f1 -nt f2                   文件f1是否比f2新
f1 -ot f2                   文件f1是否比f2旧
f1 -ef f2                   文件f1和f2是否硬连接到同一个文件

二元比较操作符，比较变量或比较数字

整数比较：
-eq             等于            <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> -eq <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
-ne             不等于          <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> -ne <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
-gt             大于            <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> -gt <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
-ge             大于等于        <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> -ge <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
-lt             小于            <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> -lt <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
-le             小于等于        <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> -le <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>

&lt;               小于（需要双括号）           <span class="o">((</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> &lt; <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">))</span>
&lt;<span class="o">=</span>              小于等于<span class="o">(</span>...<span class="o">)</span>                 <span class="o">((</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> &lt;<span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">))</span>
&gt;               大于<span class="o">(</span>...<span class="o">)</span>                     <span class="o">((</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> &gt; <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">))</span>
&gt;<span class="o">=</span>              大于等于<span class="o">(</span>...<span class="o">)</span>                 <span class="o">((</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> &gt;<span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">))</span>

字符串比较：
<span class="o">=</span>               等于           <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
<span class="o">==</span>              <span class="nv">与</span><span class="o">=</span>等价
!<span class="o">=</span>              不等于         <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>
&lt;               小于，在ASCII字母中的顺序：
                <span class="k">if</span> <span class="o">[[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> &lt; <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]]</span>
                <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span> <span class="se">\&lt;</span> <span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span> <span class="o">]</span>         <span class="c1">#需要对&lt;进行转义</span>
&gt;               大于

-z               字符串为null，即长度为0
-n               字符串不为null，即长度不为0
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id16">
<h3><a class="toc-backref" href="#id39">1.4.6. 循环</a><a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h3>
<div class="section" id="for">
<h4><a class="toc-backref" href="#id40">1.4.6.1. for</a><a class="headerlink" href="#for" title="永久链接至标题">¶</a></h4>
<p>for的命令使用</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># help for</span>
<span class="hll"><span class="k">for</span>: <span class="k">for</span> NAME <span class="o">[</span>in WORDS ... <span class="o">]</span> <span class="p">;</span> <span class="k">do</span> COMMANDS<span class="p">;</span> <span class="k">done</span>
</span><span class="hll">    Execute commands <span class="k">for</span> each member in a list.
</span>
    The <span class="s1">&#39;for&#39;</span> loop executes a sequence of commands <span class="k">for</span> each member in a
    list of items.  If <span class="sb">`</span>in WORDS ...<span class="p">;</span><span class="s1">&#39; is not present, then `in &quot;$@&quot;&#39;</span> is
    assumed.  For each element in WORDS, NAME is <span class="nb">set</span> to that element, and
    the COMMANDS are executed.

    Exit Status:
    Returns the status of the last <span class="nb">command</span> executed.
<span class="k">for</span> <span class="o">((</span>: <span class="k">for</span> <span class="o">((</span> exp1<span class="p">;</span> exp2<span class="p">;</span> exp3 <span class="o">))</span><span class="p">;</span> <span class="k">do</span> COMMANDS<span class="p">;</span> <span class="k">done</span>
    Arithmetic <span class="k">for</span> loop.

    Equivalent to
        <span class="o">((</span> EXP1 <span class="o">))</span>
        <span class="k">while</span> <span class="o">((</span> EXP2 <span class="o">))</span><span class="p">;</span> <span class="k">do</span>
            COMMANDS
            <span class="o">((</span> EXP3 <span class="o">))</span>
        <span class="k">done</span>
    EXP1, EXP2, and EXP3 are arithmetic expressions.  If any expression is
    omitted, it behaves as <span class="k">if</span> it evaluates to <span class="m">1</span>.

    Exit Status:
    Returns the status of the last <span class="nb">command</span> executed.
</pre></div>
</td></tr></table></div>
<p>bash风格：</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nb">declare</span> -i <span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
<span class="k">for</span> i in <span class="sb">`</span>seq <span class="m">1</span> <span class="m">10</span><span class="sb">`</span> <span class="p">;</span> <span class="k">do</span>
    <span class="nv">sum</span><span class="o">+=</span><span class="nv">$i</span>
<span class="k">done</span>
<span class="nb">echo</span> <span class="nv">$sum</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">这个方案是bash风格的for语句，变量的引用都要使用$的。</p>
</div>
<p>c风格:</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nb">declare</span> -i <span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
<span class="k">for</span> <span class="o">((</span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span> i&lt;<span class="o">=</span><span class="m">10</span><span class="p">;</span> i++<span class="o">))</span><span class="p">;</span> <span class="k">do</span>
    <span class="nv">sum</span><span class="o">+=</span>i
<span class="k">done</span>
<span class="nb">echo</span> <span class="nv">$sum</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">这个风格是c语句风格的，变量不需要$的。</p>
</div>
</div>
<div class="section" id="while">
<h4><a class="toc-backref" href="#id41">1.4.6.2. while</a><a class="headerlink" href="#while" title="永久链接至标题">¶</a></h4>
<p>while的命令使用</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin ~<span class="o">]</span><span class="c1"># help while</span>
<span class="hll"><span class="k">while</span>: <span class="k">while</span> COMMANDS<span class="p">;</span> <span class="k">do</span> COMMANDS<span class="p">;</span> <span class="k">done</span>
</span><span class="hll">    Execute commands as long as a <span class="nb">test</span> succeeds.
</span>
    Expand and execute COMMANDS as long as the final <span class="nb">command</span> in the
    <span class="s1">&#39;while&#39;</span> COMMANDS has an <span class="nb">exit</span> status of zero.

    Exit Status:
    Returns the status of the last <span class="nb">command</span> executed.
</pre></div>
</td></tr></table></div>
<p>样例1：</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nb">declare</span> -i <span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
<span class="nb">declare</span> -i <span class="nv">i</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span> <span class="o">[</span> <span class="nv">$i</span> -le <span class="m">10</span> <span class="o">]</span>  <span class="p">;</span> <span class="k">do</span>
        <span class="nv">sum</span><span class="o">+=</span><span class="nv">$i</span>
        <span class="nv">i</span><span class="o">=</span>$<span class="o">[</span>i+1<span class="o">]</span>
<span class="k">done</span>
<span class="nb">echo</span> <span class="nv">$sum</span>
</pre></div>
</td></tr></table></div>
<p>样例2：</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ vim person.txt
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ cat person.txt
zhaojiedi <span class="m">23</span>
liming <span class="m">24</span>
xiaojia <span class="m">18</span>
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ cat while2.sh
<span class="c1">#!/bin/bash</span>


<span class="k">while</span> <span class="nb">read</span> name age <span class="p">;</span> <span class="k">do</span>
    <span class="nb">echo</span> <span class="s2">&quot;name is </span><span class="nv">$name</span><span class="s2">, age is </span><span class="nv">$age</span><span class="s2">&quot;</span>
<span class="k">done</span> &lt; person.txt
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ bash while2.sh
name is zhaojiedi, age is <span class="m">23</span>
name is liming, age is <span class="m">24</span>
name is xiaojia, age is <span class="m">18</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="until">
<h4><a class="toc-backref" href="#id42">1.4.6.3. until</a><a class="headerlink" href="#until" title="永久链接至标题">¶</a></h4>
<p>until 的命令使用</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ <span class="nb">help</span> <span class="k">until</span>
<span class="k">until</span>: <span class="k">until</span> COMMANDS<span class="p">;</span> <span class="k">do</span> COMMANDS<span class="p">;</span> <span class="k">done</span>
</pre></div>
</td></tr></table></div>
<p>样例：</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nb">declare</span> -i <span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
<span class="nb">declare</span> -i <span class="nv">i</span><span class="o">=</span><span class="m">10</span>
<span class="k">until</span> <span class="o">[</span> <span class="nv">$i</span> -lt <span class="m">0</span> <span class="o">]</span>  <span class="p">;</span> <span class="k">do</span>
        <span class="nv">sum</span><span class="o">+=</span><span class="nv">$i</span>
        <span class="nv">i</span><span class="o">=</span>$<span class="o">[</span>i-1<span class="o">]</span>
<span class="k">done</span>
<span class="nb">echo</span> <span class="nv">$sum</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">while是判断条件为true才继续。而until相反。</p>
</div>
</div>
<div class="section" id="case">
<h4><a class="toc-backref" href="#id43">1.4.6.4. case</a><a class="headerlink" href="#case" title="永久链接至标题">¶</a></h4>
<p>case的命令使用</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin etc<span class="o">]</span>$ <span class="nb">help</span> <span class="k">case</span>
<span class="k">case</span>: <span class="k">case</span> WORD in <span class="o">[</span>PATTERN <span class="o">[</span><span class="p">|</span> PATTERN<span class="o">]</span>...<span class="o">)</span> COMMANDS <span class="p">;;</span><span class="o">]</span>... <span class="k">esac</span>
</pre></div>
</td></tr></table></div>
<p>样例：</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ cat <span class="k">case</span>.sh
<span class="c1">#!/bin/bash</span>

<span class="k">case</span> <span class="nv">$1</span> in

a<span class="p">|</span>b<span class="p">|</span>c<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;you enter (a|b|c)&quot;</span>
    <span class="p">;;</span>
d<span class="p">|</span>e<span class="p">|</span>f<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;you enter (d|e|f)&quot;</span>
    <span class="p">;;</span>
*<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot; other char&quot;</span>
    <span class="p">;;</span>
<span class="k">esac</span>
</pre></div>
</td></tr></table></div>
<p>调用</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ ./case.sh <span class="m">2</span>
other char
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ ./case.sh a
you enter <span class="o">(</span>a<span class="p">|</span>b<span class="p">|</span>c<span class="o">)</span>
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ ./case.sh d
you enter <span class="o">(</span>d<span class="p">|</span>e<span class="p">|</span>f<span class="o">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="select">
<h4><a class="toc-backref" href="#id44">1.4.6.5. select</a><a class="headerlink" href="#select" title="永久链接至标题">¶</a></h4>
<p>select的命令使用</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ <span class="nb">help</span> <span class="k">select</span>
<span class="k">select</span>: <span class="k">select</span> NAME <span class="o">[</span>in WORDS ... <span class="p">;</span><span class="o">]</span> <span class="k">do</span> COMMANDS<span class="p">;</span> <span class="k">done</span>
</pre></div>
</td></tr></table></div>
<p>样例：</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">select</span> c in yes no <span class="p">;</span> <span class="k">do</span>
        <span class="nb">echo</span> <span class="s2">&quot; you enter is </span><span class="nv">$c</span><span class="s2">&quot;</span>
        <span class="k">case</span> <span class="nv">$c</span> in
                yes<span class="o">)</span>
                        <span class="nb">echo</span> <span class="s2">&quot;yes&quot;</span><span class="p">;;</span>
                no<span class="o">)</span>
                        <span class="nb">echo</span> <span class="s2">&quot;no&quot;</span><span class="p">;;</span>
                *<span class="o">)</span>
                        <span class="nb">echo</span> <span class="s2">&quot;other&quot;</span><span class="p">;;</span>
        <span class="k">esac</span>
<span class="k">done</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">select是不同与case的，内置有死循环的。</p>
</div>
</div>
</div>
<div class="section" id="id17">
<h3><a class="toc-backref" href="#id45">1.4.7. 函数</a><a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h3>
<div class="section" id="id18">
<h4><a class="toc-backref" href="#id46">1.4.7.1. 函数样例</a><a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h4>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="k">function</span> my_sum<span class="o">(){</span>
    <span class="nb">local</span> <span class="nv">a</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local</span> <span class="nv">b</span><span class="o">=</span><span class="nv">$2</span>
    <span class="nb">echo</span> $<span class="o">[</span>a+b<span class="o">]</span>
<span class="o">}</span>

my_sum <span class="m">2</span> <span class="m">4</span>
</pre></div>
</td></tr></table></div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">bash中的中return返回的值只能是0-255，返回的是状态码。</p>
</div>
</div>
<div class="section" id="id19">
<h4><a class="toc-backref" href="#id47">1.4.7.2. 接收函数返回结果</a><a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h4>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="k">function</span> my_sum<span class="o">(){</span>
        <span class="nb">local</span> <span class="nv">a</span><span class="o">=</span><span class="nv">$1</span>
        <span class="nb">local</span> <span class="nv">b</span><span class="o">=</span><span class="nv">$2</span>
        <span class="nb">echo</span> $<span class="o">[</span>a+b<span class="o">]</span>
<span class="o">}</span>

<span class="nv">a</span><span class="o">=</span><span class="sb">`</span>my_sum <span class="m">2</span> <span class="m">4</span><span class="sb">`</span>
<span class="nb">echo</span> <span class="nv">$a</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id20">
<h4><a class="toc-backref" href="#id48">1.4.7.3. 接收函数返回的状态码</a><a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h4>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="k">function</span> is_yes<span class="o">(){</span>

        <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
                <span class="k">return</span> <span class="m">0</span>
        <span class="k">else</span>
                <span class="k">return</span> <span class="m">1</span>
        <span class="k">fi</span>
<span class="o">}</span>

is_yes <span class="s2">&quot;abc&quot;</span>
<span class="nb">echo</span> <span class="nv">$?</span>
is_yes <span class="s2">&quot;yes&quot;</span>
<span class="nb">echo</span> <span class="nv">$?</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">在函数使用return去返回状态码只是终止了本函数堆栈调用，而exit是退出整个程序。</p>
</div>
</div>
</div>
</div>
<div class="section" id="id21">
<h2><a class="toc-backref" href="#id49">1.5. Shell調試</a><a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h2>
<p>通過下面命令可以顯示腳本的執行過程。這樣方便調試發現問題。</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>bash -x you_bash_file
</pre></div>
</td></tr></table></div>
<div class="section" id="read">
<h3><a class="toc-backref" href="#id50">1.5.1. 读取输入使用read</a><a class="headerlink" href="#read" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ vim read.sh
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ cat read.sh
<span class="c1">#!/bin/bash</span>

<span class="nb">read</span> -p <span class="s2">&quot;please input you age : &quot;</span> age

<span class="nb">echo</span> you age is <span class="nv">$age</span>
<span class="o">[</span>root@centos6-zzjlogin test<span class="o">]</span>$ bash read.sh
please input you age : <span class="m">25</span>
you age is <span class="m">25</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">read是可以一次接受多个输入的，也就是我们可以read a b 读取两个数分别赋给 a,b。</p>
</div>
</div>
<div class="section" id="id22">
<h3><a class="toc-backref" href="#id51">1.5.2. 获取随机值</a><a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h3>
<p>通常情况下`echo $?`返回码为0代表成功，其他都是失败，$?变量保存最近的命令退出状态。</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">echo</span> $<span class="o">[</span>RANDOM%50<span class="o">]</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2.advance.html" class="btn btn-neutral float-right" title="2. Shell编程高级用法" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Shell.html" class="btn btn-neutral" title="Shell 编程" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, 张志佳.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            LANGUAGE:'zh_CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>