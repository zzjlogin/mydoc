

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>12.6. samba &mdash; 张志佳的技术文档 1.0 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../../search.html" />
    <link rel="next" title="13. 版本控制" href="../版本控制/index.html" />
    <link rel="prev" title="12.5. nfs入门" href="nfs.html" /> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> 张志佳的技术文档
          

          
            
            <img src="../../../../_static/logo-wordmark-light.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2018-09-05
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../Language.html">编程语言学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Language/Python.html">Python学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Language/Python/index.html">Python基础</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/01环境准备.html">1. 环境准备</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/02内建函数.html">2. 内建函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/03内置常量.html">3. 内置常量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/04内置类型.html">4. 内置类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/05内置异常.html">5. 内置异常</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/06文本处理.html">6. 文本处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/07二进制处理.html">7. 二进制处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/08数据类型.html">8. 数据类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/09数值模块.html">9. 数值模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/10函数式编程模块.html">10. 函数式编程模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/11文件和目录访问.html">11. 文件和目录访问</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/12数据持久化.html">12. 数据持久化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/13数据压缩和归档.html">13. 数据压缩和归档</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/14文件格式.html">14. 文件格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/15加密服务.html">15. 加密服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/16通用操作系统服务.html">16. 通用操作系统服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/17并发执行.html">17. 并发执行</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/18进程通信和网络.html">18. 进程通信和网络</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/19网络数据处理.html">19. 网络数据处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Python/base/20结构化文本文档处理工具.html">20. 结构化文本文档处理工具</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Language/Python/index.html#python-libs">Python常用第三方库</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Language/Algorithm.html">算法学习(Algorithm)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Language/Algorithm/index.html">树(tree)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Algorithm/tree/indroduction.html">树(tree)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Language/Algorithm/index.html#ccf">CCF考试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Algorithm/ccf/201703-1.html">2017031-分蛋糕</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Algorithm/ccf/201703-2.html">2017032-学生排队</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Algorithm/ccf/201712-4.html">2017124-行车路线</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Algorithm/ccf/201803-1.html">2018031-跳一跳</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Language/Shell.html">Shell 编程</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Language/Shell/1.base.html">1. Shell编程基础</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Shell/1.base.html#shell-about">1.1. Shell编程简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Shell/1.base.html#shell-demo">1.2. 入门样例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Shell/1.base.html#shell-stander">1.3. Shell规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Shell/1.base.html#shell-cmd">1.4. Shell基础语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Language/Shell/1.base.html#id21">1.5. Shell調試</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Language/Shell/2.advance.html">2. Shell编程高级用法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Network.html">计算机网络学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Network/1.NetworkTheory.html">理论学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Network/2.HuaWei.html">华为</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Network/3.H3C.html">H3C(华三/新华三)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Network/4.CISCO.html">思科(CISCO)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../Server.html">服务器相关学习</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../1.AboutAndClass.html">服务器相关常识</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../2.Linux.html">Linux 服务器</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../1.cmd.html">Linux命令汇总</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/Ctrl+d.html">1. Ctrl+d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/alias.html">2. alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/basename.html">3. basename</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/bc.html">4. bc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/bg.html">5. bg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/cal.html">6. cal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/cat.html">7. cat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/cd.html">8. cd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/chage.html">9. chage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/chattr.html">10. chattr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/chgrp.html">11. chgrp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/chkconfig.html">12. chkconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/chmod.html">13. chmod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/chown.html">14. chown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/clear.html">15. clear</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/cp.html">16. cp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/crontab.html">17. crontab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/cut.html">18. cut</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/date.html">19. date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dd.html">20. dd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/df.html">21. df</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/diff.html">22. diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dig.html">23. dig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dirname.html">24. dirname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dmesg.html">25. dmesg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dos2unix.html">26. dos2unix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/du.html">27. du</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dump.html">28. dump</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/dumpe2fs.html">29. dumpe2fs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/e2fsck.html">30. e2fsck</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/echo.html">31. echo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/eject.html">32. eject</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/exec.html">33. exec</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/exit.html">34. exit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/export.html">35. export</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/fdisk.html">36. fdisk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/fg.html">37. fg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/file.html">38. file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/find.html">39. find</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/finger.html">40. finger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/free.html">41. free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/fsck.html">42. fsck</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/grep.html">43. grep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/groupadd.html">44. groupadd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/gzip.html">45. gzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/halt.html">46. halt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/head.html">47. head</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/history.html">48. history</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/host.html">49. host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/hostname.html">50. hostname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/iconv.html">51. iconv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/id.html">52. id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ifconfig.html">53. ifconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ifdown.html">54. ifdown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ifup.html">55. ifup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/init.html">56. init</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/iostat.html">57. iostat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ipcrm.html">58. ipcrm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ipcs.html">59. ipcs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/jobs.html">60. jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/join.html">61. join</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/kill.html">62. kill</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/killall.html">63. killall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/last.html">64. last</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/lastlog.html">65. lastlog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/less.html">66. less</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/locate.html">67. locate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/logout.html">68. logout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ls.html">69. ls</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/lsattr.html">70. lsattr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/lsof.html">71. lsof</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ltrace.html">72. ltrace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mail.html">73. mail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/md5sum.html">74. md5sum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mkdir.html">75. mkdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mkfs.html">76. mkfs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mkswap.html">77. mkswap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/more.html">78. more</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mount.html">79. mount</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mpstat.html">80. mpstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mutt.html">81. mutt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/mv.html">82. mv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/nc.html">83. nc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/netstat.html">84. netstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/nice.html">85. nice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/nmap.html">86. nmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/nohup.html">87. nohup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/nslookup.html">88. nslookup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/parted.html">89. parted</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/partprobe.html">90. partprobe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/passwd.html">91. passwd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/paste.html">92. paste</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/pgrep.html">93. pgrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ping.html">94. ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/pkill.html">95. pkill</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/poweroff.html">96. poweroff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/printf.html">97. printf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ps.html">98. ps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/pstree.html">99. pstree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/pwd.html">100. pwd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/rename.html">101. rename</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/resize2fs.html">102. resize2fs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/rev.html">103. rev</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/rm.html">104. rm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/rmdir.html">105. rmdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/route.html">106. route</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/rpm.html">107. rpm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/runlevel.html">108. runlevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/sar.html">109. sar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/scp.html">110. scp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/service.html">111. service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/shutdown.html">112. shutdown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/sort.html">113. sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/split.html">114. split</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ss.html">115. ss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/ssh.html">116. ssh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/stat.html">117. stat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/strace.html">118. strace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/su.html">119. su</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/sudo.html">120. sudo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/swapoff.html">121. swapoff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/swapon.html">122. swapon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/sync.html">123. sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/tac.html">124. tac</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/tail.html">125. tail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/tar.html">126. tar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/tcpdump.html">127. tcpdump</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/telnet.html">128. telnet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/time.html">129. time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/top.html">130. top</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/touch.html">131. touch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/tr.html">132. tr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/traceroute.html">133. traceroute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/tree.html">134. tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/type.html">135. type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/umask.html">136. umask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/umount.html">137. umount</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/unalias.html">138. unalias</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/uname.html">139. uname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/uniq.html">140. uniq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/unset.html">141. unset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/unzip.html">142. unzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/uptime.html">143. uptime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/useradd.html">144. useradd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/userdel.html">145. userdel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/usermod.html">146. usermod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/users.html">147. users</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/vi.html">148. vi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/vimdiff.html">149. vimdiff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/visudo.html">150. visudo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/vmstat.html">151. vmstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/w.html">152. w</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/watch.html">153. watch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/wc.html">154. wc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/wget.html">155. wget</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/whereis.html">156. whereis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/which.html">157. which</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/who.html">158. who</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/whoami.html">159. whoami</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/xargs.html">160. xargs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/yum.html">161. yum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cmd/zip.html">162. xxxx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../2.base.html">Linux基础</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../base/01-Linux简介.html">1. Linux 简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/02-Linux入门.html">2. 计算机简述</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/03-文件系统.html">3. Linux文件系统</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/04-Bash特性.html">4. bash的基础特性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/05-linux用户组管理.html">5. linux用户和组管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/07-grep正则表达式.html">6. grep正则表达式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/08-Linux文件查找.html">7. Linux文件查找</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/09-Vim编辑器.html">8. Vim编辑器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/10-Linux磁盘管理.html">9. Linux磁盘管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/11-Linux文件权限.html">10. Linux文件权限</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/12-RAID.html">11. RAID</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/13-LVM.html">12. LVM逻辑卷 </a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/14-Btrfs文件系统.html">13. Btrfs文件系统</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/15-解压缩.html">14. 解压缩</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/16-Linux程序包管理.html">15. Linux程序包管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/16-Linux系统程序包管理.html">16. Linux系统程序包管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/17-Linux系统网络属性管理.html">17. Linux系统网络属性管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/17-Linux系统网络管理.html">18. Linux系统网络管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/18-Linux进程管理.html">19. Linux进程管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/19-Linux任务计划.html">20. Linux任务计划</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/20-CentOS启动流程与Grub.html">21. CentOS启动流程与Grub</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/21-Linux Kernel.html">22. Linux Kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/22-文本处理工具之sed,awk.html">23. 文本处理工具之sed,awk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/23-Openssl.html">24. Openssl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/24-Nssitch、pam.html">25. Nssitch、pam</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/25-文件共享服务.html">26. 文件共享服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/26-DNS域名解析服务.html">27. DNS域名解析服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/27-Linux系统防火墙.html">28. Linux系统防火墙</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/28-LinuxSyslog系统日志管理.html">29. Linux Syslog系统日志管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../base/29-WebServices.html">30. Web Service</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../../3.service.html">Linux服务器</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../DHCP/index.html">1. dhcp服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Rsync同步/index.html">2. Rsync同步</a></li>
<li class="toctree-l4"><a class="reference internal" href="../自动化安装/index.html">3. 自动化安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../自动化运维/index.html">4. 自动化运维</a></li>
<li class="toctree-l4"><a class="reference internal" href="../安全和监控/index.html">5. 安全和监控</a></li>
<li class="toctree-l4"><a class="reference internal" href="../远程登陆/index.html">6. 远程登陆</a></li>
<li class="toctree-l4"><a class="reference internal" href="../认证/index.html">7. 认证</a></li>
<li class="toctree-l4"><a class="reference internal" href="../DNS/index.html">8. DNS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../数据库/index.html">9. 数据库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../WEB/index.html">10. WEB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../日志管理/index.html">11. 日志管理</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">12. 网络文件共享</a></li>
<li class="toctree-l4"><a class="reference internal" href="../版本控制/index.html">13. 版本控制</a></li>
<li class="toctree-l4"><a class="reference internal" href="../集群/index.html">14. 集群</a></li>
<li class="toctree-l4"><a class="reference internal" href="../容器/index.html">15. 容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../虚拟化/index.html">16. 虚拟化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../杂项/index.html">17. 杂项</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3.Unix.html">Unix 和类Unix</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../4.Windows.html">Windows 服务器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../5.Optimization.html">服务器优化</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../6.FAQ.html">常见问题及解决(FAQ)</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Data.html">数据相关/大数据</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Data/index.html">数据相关/大数据</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../MachineLearning.html">机器学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../MachineLearning/index.html">机器学习入门</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ToolsOpenSource.html">工具和开源项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../ToolsOpenSource/1.Tools.html">常用工具汇总</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/index.html">用reStructuredText实践</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/1.index.html">1. reST简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/2.install.html">2. reST安装及环境配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/3.grammar.html">3. reST语法学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/4.toOthers.html">4. 格式转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/5.API.html">5. 文档API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/6.rstTools.html">6. reST工具</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/rST/7.addFunctions.html">7. 其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/index.html#markdown">用MarkDown实践</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../ToolsOpenSource/Tools/MarkDown/MarkDownTools.html">1. MarkDown常用工具</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ToolsOpenSource/2.OpenSource.html">关注的开源项目</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Others.html">其他杂项</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Others/index.html">电脑疑难杂症</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../log.html">更新日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../AboutMe.html">关于我</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">张志佳的技术文档</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../../Server.html">服务器相关学习</a> &raquo;</li>
        
          <li><a href="../../../2.Linux.html">Linux 服务器</a> &raquo;</li>
        
          <li><a href="../../3.service.html">Linux服务器</a> &raquo;</li>
        
          <li><a href="../index.html">&lt;no title&gt;</a> &raquo;</li>
        
          <li><a href="index.html">12. 网络文件共享</a> &raquo;</li>
        
      <li>12.6. samba</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="../版本控制/index.html" class="btn btn-neutral float-right" title="13. 版本控制" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nfs.html" class="btn btn-neutral" title="12.5. nfs入门" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="samba">
<h1>12.6. samba<a class="headerlink" href="#samba" title="永久链接至标题">¶</a></h1>
<div class="section" id="windowslinux">
<h2>12.6.1. windows共享给linux<a class="headerlink" href="#windowslinux" title="永久链接至标题">¶</a></h2>
<p>我想把windows机器上’e:迅雷下载’共享出来给linux使用</p>
<div class="section" id="window">
<h3>12.6.1.1. 在window设置共享<a class="headerlink" href="#window" title="永久链接至标题">¶</a></h3>
<img alt="images/fileshare/共享.png" src="images/fileshare/共享.png" />
<img alt="images/fileshare/共享设置权限.png" src="images/fileshare/共享设置权限.png" />
<img alt="images/fileshare/共享添加指定用户.png" src="images/fileshare/共享添加指定用户.png" />
</div>
<div class="section" id="id1">
<h3>12.6.1.2. 本机测试<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h3>
<img alt="images/fileshare/共享windows测试.png" src="images/fileshare/共享windows测试.png" />
</div>
<div class="section" id="linux">
<h3>12.6.1.3. linux挂载<a class="headerlink" href="#linux" title="永久链接至标题">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[root@centos-155 ~]# yum install samba samba-client cifs-utils samba-common-tools
[root@centos-155 ~]# rpm -ql samba
[root@centos-155 ~]# rpm -ql samba-client
[root@centos-155 ~]# rpm -ql cifs-utils
[root@centos-155 ~]# smbclient -L 192.168.46.1 -m SMB2 -U zhao
Enter SAMBA\zhao&#39;s password:
Domain=[DESKTOP-31DI5AI] OS=[] Server=[]

    Sharename       Type      Comment
    ---------       ----      -------
    ADMIN$          Disk      远程管理
    C$              Disk      默认共享
    D$              Disk      默认共享
    download        Disk
    E$              Disk      默认共享
    F$              Disk      默认共享
    IPC$            IPC       远程 IPC
Connection to 192.168.46.1 failed (Error NT_STATUS_RESOURCE_NAME_NOT_FOUND)
NetBIOS over TCP disabled -- no workgroup available

# 创建挂载密码
[root@centos-155 mnt]# echo -e &quot;username=zhao\npassword=zhao&quot; &gt;&gt; /etc/samba.pass
[root@centos-155 mnt]# cat /etc/samba.pass
username=zhao
password=zhao
[root@centos-155 mnt]# chmod 600 /etc/samba.pass

[root@centos-155 mnt]# vim -n 1 /etc/fstab
# 添加如下行
//192.168.46.1/download      /mnt/zhao     cifs vers=3.0,credentials=/etc/samba.pass 0 0
[root@centos-155 ~]# mount -a
[root@centos-155 ~]# cd /mnt/zhao
[root@centos-155 zhao]# touch test.txt
[root@centos-155 zhao]# ll
total 2528009
-rwxr-xr-x 1 root root        182 May 28  2015 autorun.inf
-rwxr-xr-x 1 root root 2588266496 Nov 19 22:42 cn_office_professional_plus_2016_x86_x64_dvd_6969182.iso
drwxr-xr-x 2 root root          0 Nov 19 22:44 office
-rwxr-xr-x 1 root root     413248 Aug 17  2015 setup.exe
-rwxr-xr-x 1 root root          0 Feb  6 10:19 test.txt
drwxr-xr-x 2 root root          0 Nov 19 21:24 下载合集
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2>12.6.2. samba主要配置项<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>workgroup                   工作组
server string               服务器字符串，支持宏定义
netbios name                netbios名字和主机名无关
interface                   监听的接口
host allow                  允许的主机，支持多种格式
log file                    日志文件，支持宏定义
max log size                最大日志文件， 超过这个数值就日志滚动日志
load printers               加载打印机
cups options                通用unix打印机选项
path                        指定共享路径
Comment                     共享描述
public                      是否guest访问的共享，就是匿名可以访问
browsable                   是否可以被浏览
writable                    是否可写
readonly                    是否只读和public只需要配置一个
write list                  可写列表，支持用户和组，多个使用逗号分割。样例user1,@group2,+group3
valid users                 特定用户才能访问
</pre></div>
</div>
</div>
<div class="section" id="linuxwindow">
<h2>12.6.3. linux共享给window<a class="headerlink" href="#linuxwindow" title="永久链接至标题">¶</a></h2>
<div class="section" id="id3">
<h3>12.6.3.1. linux配置<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 添加用户</span>

<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># useradd panda1</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># useradd panda2</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># useradd panda3</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># smbpasswd -a panda1</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># smbpasswd -a panda2</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># smbpasswd -a panda3</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># groupadd panda</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># usermod -aG panda panda1</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># usermod -aG panda panda2</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># usermod -aG panda panda3</span>

<span class="c1"># 配置文件编辑</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># vim /etc/samba/smb.conf</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># tail -n 6 /etc/samba/smb.conf</span>
<span class="o">[</span>pub<span class="o">]</span>
    <span class="nv">comment</span><span class="o">=</span> this is samba pub <span class="k">for</span> windows
        <span class="nv">path</span> <span class="o">=</span> /data/samba
    write <span class="nv">list</span> <span class="o">=</span> panda1 ,panda2
    valid <span class="nv">users</span><span class="o">=</span> +panda

<span class="c1"># 启动服务并查看状态</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># systemctl restart smb</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># systemctl restart nmb</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># netstat -tunlp |grep mb</span>
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:139             <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">4584</span>/smbd
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:445             <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">4584</span>/smbd
tcp6       <span class="m">0</span>      <span class="m">0</span> :::139                  :::*                    LISTEN      <span class="m">4584</span>/smbd
tcp6       <span class="m">0</span>      <span class="m">0</span> :::445                  :::*                    LISTEN      <span class="m">4584</span>/smbd
udp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.46.255:137      <span class="m">0</span>.0.0.0:*                           <span class="m">4596</span>/nmbd
udp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.46.155:137      <span class="m">0</span>.0.0.0:*                           <span class="m">4596</span>/nmbd
udp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:137             <span class="m">0</span>.0.0.0:*                           <span class="m">4596</span>/nmbd
udp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.46.255:138      <span class="m">0</span>.0.0.0:*                           <span class="m">4596</span>/nmbd
udp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.46.155:138      <span class="m">0</span>.0.0.0:*                           <span class="m">4596</span>/nmbd
udp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:138             <span class="m">0</span>.0.0.0:*                           <span class="m">4596</span>/nmbd


<span class="c1"># 创建目录并授权</span>
<span class="o">[</span>root@centos-155 mnt<span class="o">]</span><span class="c1"># mkdir /data/samba -pv</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># chown root.panda /data/samba/ -R</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># chmod 2775 /data/samba/ -R</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># echo &quot;this is test&quot; &gt;&gt; /data/samba/test.txt</span>

<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># systemctl restart smb</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># systemctl restart nmb</span>
</pre></div>
</div>
</div>
<div class="section" id="windows">
<h3>12.6.3.2. windows挂载<a class="headerlink" href="#windows" title="永久链接至标题">¶</a></h3>
<img alt="images/fileshare/samba认证.png" src="images/fileshare/samba认证.png" />
<img alt="images/fileshare/挂载后的界面.png" src="images/fileshare/挂载后的界面.png" />
<img alt="images/fileshare/输入密码查看文件.png" src="images/fileshare/输入密码查看文件.png" />
<p>在window环境中，右键新建txt创建一个文件</p>
<p>在linux环境中，检查权限是否符合期望</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># ll /data/samba</span>
total <span class="m">4</span>
-rw-r--r-- <span class="m">1</span> root   panda <span class="m">13</span> Feb  <span class="m">6</span> <span class="m">13</span>:54 test.txt
-rwxr--r-- <span class="m">1</span> panda2 panda  <span class="m">0</span> Feb  <span class="m">6</span> <span class="m">13</span>:57 新建文本文档.txt
</pre></div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>12.6.4. samba多用户挂载<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>默认samba是单用户挂载的。centos7中可以启用多用户挂载功能，在客户端登陆的不同用户访问
同一个samba的挂载点，获取不同的权限。</p>
<div class="section" id="id5">
<h3>12.6.4.1. 服务端配置<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># yum install samba</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># mkdir /multiuser</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># vim /etc/samba/smb.conf</span>
<span class="c1"># 添加下面几行</span>
<span class="o">[</span>smbshare<span class="o">]</span>
    <span class="nv">path</span><span class="o">=</span>/multiuser
    <span class="nv">writeable</span> <span class="o">=</span>no
    write <span class="nv">list</span><span class="o">=</span> @admins

<span class="c1"># 创建用户</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># groupadd admins</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># useradd -s /sbin/nologin smbuser1</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># useradd -s /sbin/nologin smbuser2 -G admins</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># useradd -s /sbin/nolgoin smbuser3 -G admins</span>

<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># smbpasswd -a smbuser1</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># smbpasswd -a smbuser2</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># smbpasswd -a smbuser3</span>

<span class="c1"># 修改权限</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># setfacl -m &quot;u:smbuser1:rwx&quot; /multiuser/</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># setfacl -m &quot;u:smbuser2:rwx&quot; /multiuser/</span>
<span class="o">[</span>root@centos-155 /<span class="o">]</span><span class="c1"># setfacl -m &quot;u:smbuser3:rwx&quot; /multiuser/</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>12.6.4.2. 客户端配置<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># yum install cifs-utils^C</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># mkdir /mnt/smb</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># echo &quot;username=smbuser2&quot; &gt; /etc/multiuser</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># echo &quot;password=panda&quot; &gt;&gt; /etc/multiuser</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># cat /etc/multiuser</span>
<span class="nv">username</span><span class="o">=</span>smbuser2
<span class="nv">password</span><span class="o">=</span>panda
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># chmod 600 /etc/multiuser</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># mount -o credentials=/etc/multiuser,multiuser //192.168.46.155/smbshare  /mnt/smb</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># tail -n 1 /etc/mtab</span>
//192.168.46.155/smbshare /mnt/smb cifs rw,relatime,vers<span class="o">=</span><span class="m">1</span>.0,multiuser,cache<span class="o">=</span>strict,username<span class="o">=</span>smbuser2,domain<span class="o">=</span>CENTOS-155,uid<span class="o">=</span><span class="m">0</span>,noforceuid,gid<span class="o">=</span><span class="m">0</span>,noforcegid,addr<span class="o">=</span><span class="m">192</span>.168.46.155,unix,posixpaths,serverino,mapposix,acl,rsize<span class="o">=</span><span class="m">1048576</span>,wsize<span class="o">=</span><span class="m">65536</span>,echo_interval<span class="o">=</span><span class="m">60</span>,actimeo<span class="o">=</span><span class="m">1</span> <span class="m">0</span> <span class="m">0</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># tail -n 1 /etc/mtab &gt;&gt; /etc/fstab</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># vim /etc/fstab</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># umount /mnt/smb</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># mount -a</span>
<span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># mount |grep smb</span>
//192.168.46.155/smbshare on /mnt/smb <span class="nb">type</span> cifs <span class="o">(</span>rw,relatime,vers<span class="o">=</span><span class="m">1</span>.0,cache<span class="o">=</span>strict,username<span class="o">=</span>smbuser2,domain<span class="o">=</span>CENTOS-155,uid<span class="o">=</span><span class="m">0</span>,noforceuid,gid<span class="o">=</span><span class="m">0</span>,noforcegid,addr<span class="o">=</span><span class="m">192</span>.168.46.155,unix,posixpaths,serverino,mapposix,acl,rsize<span class="o">=</span><span class="m">1048576</span>,wsize<span class="o">=</span><span class="m">65536</span>,echo_interval<span class="o">=</span><span class="m">60</span>,actimeo<span class="o">=</span><span class="m">1</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>12.6.4.3. 客户端测试<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@centos-152 ~<span class="o">]</span><span class="c1"># su - panda2</span>
Last login: Tue Feb  <span class="m">6</span> <span class="m">15</span>:06:44 CST <span class="m">2018</span> on pts/0
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ touch /mnt/smb/a.txt
touch: cannot touch ‘/mnt/smb/a.txt’: Permission denied
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ cifs
cifscreds    cifs.idmap   cifs.upcall
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ cifs
cifscreds    cifs.idmap   cifs.upcall
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ cifscreds add -u smbuser2 <span class="m">192</span>.168.46.155
Password:
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ touch /mnt/smb/a.txt
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ ll
total <span class="m">0</span>
<span class="o">[</span>panda2@centos-152 ~<span class="o">]</span>$ ll /mnt/smb
total <span class="m">0</span>
-rw-r--r-- <span class="m">1</span> smbuser2 <span class="m">1014</span> <span class="m">0</span> Feb  <span class="m">6</span> <span class="m">15</span>:07 a.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">上面的实验，能不能访问到samba的关键在于”cifscreds add -u smbuser2 192.168.46.155” 这个命令指定的用户，和当前登陆用户无关</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../版本控制/index.html" class="btn btn-neutral float-right" title="13. 版本控制" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nfs.html" class="btn btn-neutral" title="12.5. nfs入门" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, 张志佳.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.0',
            LANGUAGE:'zh_CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>