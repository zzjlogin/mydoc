.. _openvpn-server-auth:

==============================================================
OpenVPN客户端认证
==============================================================

:Date: 2018-09

.. contents::


概述
==============================================================

OpenVPN认证官方说明：
    https://openvpn.net/community-resources/using-alternative-authentication-methods/

.. tip::
    OpenVPN2.0后引入了用户名/密码的身份验证方式，它可以省略客户端证书，但是仍
    有一份服务器证书需要被用作加密。

OpenVPN认证方式总体包括以下几种：
    - 证书密钥认证
    - 证书密钥+密码口令认证
    - 证书密钥+用户名+口令认证
    - 用户名+密码

证书密钥认证
    证书即OpenVPN服务器生成的CA、dh、server相关证书
证书密钥+密码口令认证
    这部分口令可以使通过 ``./build-key-pass username`` 命令创建用户时配置的密码口令。
用户名+密码
    这部分认证分为以下几种：

    - 通过自己写程序(例如：脚本)调用本地用户配置的文件。(用户信息都在本地文件中)
    - 通过读取数据库(主要常用数据库：MySQL)验证用户信息。这种方法分为两类：
        - 通过现有模块配置使用。例如：pam_mysql
        - 通过自己写调用程序实现读取数据库认证
        - 通过ldap认证
        - 通过微软活动目录认证
    - 通过radius认证(freerdius)


验证脚本：
    http://openvpn.se/files/other/checkpsw.sh 



