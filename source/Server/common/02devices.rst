.. _zzjlogin-server-select:

======================================================================================================================================================
企业硬件常识
======================================================================================================================================================

很多大的企业都在去ioe化，具体的ioe包括：
    * ibm
    * oracle
    * emc

服务器分类：

    * 塔式服务器： 样子和家用台式机的主机一样。
    * 机架式服务器：有标准尺寸的，一个机柜放几个服务器的。1u=1.75英寸（44.45mm）,宽度19英寸（48.26cm）。
    * 刀片式服务器：一个机架式机箱内密集插入多个刀片样子的服务器。

CPU: center processing unit 中央处理单元

cpu公司
    * intel 
    * amd
    * ibm

cpu 类型
    * x86
    * x64
    * ram
    * m68000
    * power
    * powerpc
    * Ultraparc
    * alpha
    * 安腾

常用存储：

    * das:直接附加存储
    * nas:网络附加存储
    * san:存储区域网络


转化windows的磁盘分区 ::

    convert e:/fs:ntfs window




======================================================================================================================================================
操作系统与硬件
======================================================================================================================================================



分层结构如下：

* 硬件
    * 冯诺依曼结构计算机
        * 计算机由：控制器、运算器、存储器、输入设备、输出设备五部分组成
        * 参考： `冯诺依曼百度百科 <https://baike.baidu.com/item/%E5%86%AF%C2%B7%E8%AF%BA%E4%BE%9D%E6%9B%BC%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/4690854?fromtitle=%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84&fromid=213926&fr=aladdin>`_
    * 非冯诺依曼结构
        * 例如：并行计算机、数据流计算机以及量子计算机、光子计算机等
        * 哈佛结构:cortex-m系列都是采用这种结构。使用两个独立的存储器模块，分别存储指令和数据，每个存储模块都不允许指令和数据并存，以便实现并行处理；
* 软件
    * 操作系统
        * 内核
        * 库
    * 应用程序


服务器硬件
======================================================================================================================================================

一般常见的服务器品牌：IBM/HP/DELL/浪潮/联想/航天联志

.. attention::
    现在很多中小公司开始使用云服务器，所以很多都几乎不用监控硬件了。但是如果注重数据灾备需要公司内部/机房托管配置物理服务器用来做数据备份，这时候就需要有物理主机监控了。

这些服务器一般会有一个专门的管理端口(带外管理)：
    - IBM：IMM
    - HP：ILO
    - DELL：iDRAC

这些管理模块一般有普通版和企业版，普通版一般就提供一个web监控页面查看一些物理服务器状态，
企业版一般会提供一些命令界面可以进行一些远程的物理主机操作。例如：关闭电源、重启电源等。

这些不同的带外管理模块都符合IPMI标准，所以可以通过IPMI协议的工具ipmitool实现对服务器物理主机监控。


实现参考：https://www.ibm.com/developerworks/cn/linux/l-ipmi/


服务器组件：
    - 硬盘：ssd硬盘、sas硬盘、sata硬盘、scsi硬盘，现在一般会使用ssd结合sata。
    - 内存：临时存放数据，断电会丢失。CPU读取数据需要从cache读取，cache会调度内存中数据。服务器内存和普通电脑内存是不一样的。服务器内存一般是ECC带错误校验。
    - CPU：提供计算的元器件。一般服务器都用intel/AMD的(Intel占比比较大)，服务器CPU是专用的，和家用电脑CPU一般不太一样。一般是至强系列。
    - 主板：主板一般提供各种接口(usb/pci/pcie/rj45/vga等接口)，这是一些集成电路和一些集成芯片的集合。主板一般注意南桥，这个容易损坏。
    - 电源：电源一般选择稳定的电源，功率要比一般电脑电源功率大。服务器一般使用双电源，为了防止故障灾难。常见功率有：550W/750W
    - 外壳：服务器外壳。现在一般通过IPMI协议可以监控到服务器外壳是否打开。
    - 显卡：一般提供图形处理，现在一般会有提供高处理能力的显卡即GPU，这种设备可以提供专用计算。

.. tip::
    服务器一般没有光驱模块、没有声卡。

服务器常见型号：

    - DELL：
        - 1U(4.445cm):R420/R410/R620/R630
        - 2U(8.89cm):R710/R720/R730
        - 4U:R920/R930
        - 2010年前的服务器：1U 1850/1950 2U 2850/2950
        - 2010-2013年：1U R410/610 2U R710
        - 2014-2016年：1U R420/430/620//630 2U R720/730
    - IBM:
        - 2U 3650
        - 4U 3850
        - 8U 3950
        - 1U 3550/m3 3550/m5

    -HP:
        - 2U DL380G7/G8


服务器选择建议
======================================================================================================================================================

1. 服务器选择性能稳定，故障率低的。
2. 如果单台服务器提供服务，最好使用双电源，防止故障。
3. 如果是多服务器热备/冷备可以使用单电源降低成本。
4. 如果是集群服务，对外提供一个服务。可以使用单电源。
5. 服务器内存现在一般都是32G/64G，一般可以适当扩充内存。最好在服务器的内存条数是双数。
6. 服务器一般一台会有多个CPU，需要注意型号一致，最好对称使用提升效率。
7. 选择服务器时，注意没有必要的配件可以省略的可以去掉。
8. 服务器如果放在机房，需要考虑机房的电源需要有UPS并且机房电源会有双路/三路电源，这样达到灾备的效果。






