

======================================================================================================================================================
系统新增物理磁盘/逻辑盘挂载
======================================================================================================================================================


查看磁盘逻辑卷挂在逻辑卷
======================================================================================================================================================

挂载硬盘，提示 mount: unknown filesystem type 'LVM2_member'的解决方案
问题现象：由于重装linux，并且加了固态硬盘，直接将系统装在固态硬盘中。启动服务器的时候，

便看不到原来机械硬盘的挂载目录了，不知如何访问机械硬盘了。直接用命令 mount /dev/sda3 /store 挂载，

提示 mount: unknown filesystem type 'LVM2_member'


1、用以下命令，查看服务器物理分区，逻辑卷的信息

.. code-block:: bash
    :linenos:

    fdisk -l

    Disk /dev/vda: 53.7 GB, 53687091200 bytes, 104857600 sectors
    Units = sectors of 1 * 512 = 512 bytes
    Sector size (logical/physical): 512 bytes / 512 bytes
    I/O size (minimum/optimal): 512 bytes / 512 bytes
    Disk label type: dos
    Disk identifier: 0x0009ac89

    Device Boot      Start         End      Blocks   Id  System
    /dev/vda1   *        2048   104857566    52427759+  83  Linux



(前面是物理分区，后面是逻辑卷信息)

2、用以下命令查看逻辑卷的具体信息

.. code-block:: bash
    :linenos:
    
    lvdisplay

3、用以下命令将逻辑卷（如：逻辑卷的名称为：/dev/VolGroup/lv_home ，即在第2步中看到的LV Name）挂载在目录（如：/store）下。


.. code-block:: bash
    :linenos:
    
    mount /dev/VolGroup/lv_home /store



 

查看磁盘格式化然后挂载
======================================================================================================================================================


1、直接格式化分区

.. code-block:: bash
    :linenos:
    
    mkfs -t ext4 -c /dev/sda3

2、挂载硬盘

.. code-block:: bash
    :linenos:
    
    mount /dev/sda3 /store


https://blog.csdn.net/feritylamb/article/details/127529158#:~:text=lvdispla,%E6%9C%89%E9%80%BB%E8%BE%91%E5%8D%B7%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82

查看磁盘和逻辑盘对应关系

lsblk命令可以列出所有可用块设备的信息,而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。块设备有硬盘,闪存盘,CD-ROM等等




磁盘命令
======================================================================================================================================================

lsblk
    列出所有可用块设备的信息,而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。块设备有硬盘,闪存盘,CD-ROM等等


.. code-block:: bash
    :linenos:

    lsblk
    NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
    sr0     11:0    1 223.5M  0 rom  
    vda    253:0    0    50G  0 disk 
    └─vda1 253:1    0    50G  0 part /

挂载磁盘使用信息
======================================================================================================================================================


df -h
    命令用于查看已挂载磁盘的总容量、使用容量、剩余容量等


.. code-block:: bash
    :linenos:

    df -h
    Filesystem      Size  Used Avail Use% Mounted on
    devtmpfs        989M     0  989M   0% /dev
    tmpfs          1000M   24K 1000M   1% /dev/shm
    tmpfs          1000M  552K  999M   1% /run
    tmpfs          1000M     0 1000M   0% /sys/fs/cgroup
    /dev/vda1        50G   14G   34G  30% /
    tmpfs           200M     0  200M   0% /run/user/0



查看设备的分区表
======================================================================================================================================================


fdisk
    - fdisk命令可以用于对2TB以内的磁盘进行添加、删除、转换分区的功能,用户可以根据实际情况进行合理划分。
    - fdisk -l可以查看设备的分区表状况（但是无法查看到 GPT 磁盘的分区）



磁盘分区和分区大小调整
======================================================================================================================================================


parted一款功能强大的磁盘分区和分区大小调整工具。

parted -l同fdisk -l命令类似，但是它可以识别2TB以上的硬盘，也能查看 GPT 磁盘的分区



显示系统中各卷组的详细信息
======================================================================================================================================================

vgdisplay用于显示系统中各卷组的详细信息，需要使用指定卷组名作为命令参数(未指定卷组时将显示所有卷组的信息)


pvdisplay命令

pvdisplay用于显示物理卷的详细信息，需要使用指定的物理卷作为命令参数，默认时将显示所有物理卷信息。例如，执行以下“pvdisplay /dev/sdb1”命令可以查看物理卷/dev/sdb1的详细信息。 


显示逻辑卷的详细信息
======================================================================================================================================================

lvdisplay命令用于显示逻辑卷的详细信息，需要指定逻辑卷的设备文件作为参数，也可以使用卷组名作为参数，以显示该卷组中所有逻辑卷的信息。

查看SCSI控制器设备的信息
======================================================================================================================================================

lsscsi命令

.. code-block:: bash
    :linenos:

    lsscsi
    [0:0:1:0]    cd/dvd  QEMU     QEMU DVD-ROM     2.5+  /dev/sr0 




