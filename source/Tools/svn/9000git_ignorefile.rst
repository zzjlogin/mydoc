.. _git_ignorefile:

======================================================================================================================================================
git/github/gitlab忽略指定文件或目录
======================================================================================================================================================

:Date: 2018-09

.. contents::

作用
======================================================================================================================================================

- 官方参考：https://github.com/github/gitignore

- 不记录指定文件变化，即不把指定文件/目录推送到git服务端。

设置方法
======================================================================================================================================================

一般设置方法有3中：
    1. 在Git项目中定义 ``.gitignore`` 文件
    2. 在Git项目的设置中指定排除文件
    3. 定义Git全局的 ``.gitignore`` 文件

在Git项目中定义.gitignore文件
------------------------------------------------------------------------------------------------------------------------------------------------------

- 本地的项目根目录(有 ``.git`` 目录的是项目根目录)
- 创建一个名称为 ``.gitignore`` 的文件（注意：文件名有 **.** 不要有后缀）
- 文件 ``.gitignore`` 中添加指定文件/目录。
- 如果不忽略指定文件/目录，则在文件/目录名称前面加 ``!``
- ``.gitignore`` 可以使用标准的 **glob** 模式匹配，glob模式是指shell所使用的简化了的正则表达式。

``.gitignore`` 文件中可以使用的匹配调节：
    - 以斜杠 ``/`` 开头表示目录；
    - 以星号 ``*`` 通配多个字符；
    - 以问号 ``?`` 通配单个字符
    - 以方括号 ``[]`` 包含单个字符的匹配列表；
    - 以叹号 ``!`` 表示不忽略(跟踪)匹配到的文件或目录；
    - 注释用 ``#``

在Git项目的设置中指定排除文件
------------------------------------------------------------------------------------------------------------------------------------------------------

这种方式只是临时指定该项目的行为。
需要编辑当前项目下的 ``.git/info/exclude`` 文件，然后将需要忽略提交的文件写入其中。
需要注意的是，这种方式指定的忽略文件的根目录是项目根目录。

定义Git全局的 .gitignore 文件
------------------------------------------------------------------------------------------------------------------------------------------------------

除了可以在项目中定义 ``.gitignore`` 文件外，还可以设置全局的git ``.gitignore`` 文件来管理所有Git项目的行为。
这种方式在不同的项目开发者之间是不共享的，是属于项目之上Git应用级别的行为。
这种方式也需要创建相应的 ``.gitignore`` 文件，可以放在任意位置。
然后在使用以下命令配置Git：

.. code-block:: bash
    :linenos:

    git config --global core.excludesfile ~/.gitignore
